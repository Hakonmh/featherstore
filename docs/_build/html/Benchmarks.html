
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Benchmarks &#8212; FeatherStore 0.2.1 documentation</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Snapshot" href="API/Snapshot.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="index.html">
  
  
  
  
    <img src="_static/logo.png" class="logo__image only-light" alt="Logo image">
    <img src="_static/logo.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="Introduction.html">
  Introduction
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="Quickstart.html">
  Quickstart
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="API%20Reference.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  Benchmarks
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/hakonmh/featherstore" rel="noopener" target="_blank" title="GitHub"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#first-dataset">
   First Dataset
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#second-dataset">
   Second Dataset
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#internal-benchmarks">
   Internal Benchmarks
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="benchmarks">
<h1>Benchmarks<a class="headerlink" href="#benchmarks" title="Permalink to this heading">#</a></h1>
<p>In this benchmark we’ll compare how well FeatherStore, Feather, Parquet, CSV,
PyStore and DuckDB perform when reading and writing Pandas DataFrames.</p>
<p>All functions take the same Pandas DataFrame, write it to the hard drive, and
load it back into Pandas again.</p>
<p>The benchmark ran on the following computer:</p>
<ul class="simple">
<li><p>CPU: Intel© Core™ i5-11600</p></li>
<li><p>RAM: 48 GB DDR4 (3200 MHz)</p></li>
<li><p>SSD: 1 TB M.2 NVMe (3470/3000 Read/Write MBps)</p></li>
<li><p>GPU: NVIDIA GeForce GTX 1060 6GB (Not used during the benchmark)</p></li>
</ul>
<p>The times quoted below are the fastest query times seen during a series of
runs.</p>
<section id="first-dataset">
<h2>First Dataset<a class="headerlink" href="#first-dataset" title="Permalink to this heading">#</a></h2>
<p>This dataset is made up of 1 billion fields of random data in the shape 10
million rows and 100 columns (Approx. 19.3 gb of data when stored as CSV).
The data consists of strings, integers, floats and datetimes with 25 columns
of each data type.</p>
<p><strong>Write table benchmark (Table size: 10 000 000, 100):</strong></p>
<ul class="simple">
<li><p>Write FeatherStore:  3 716.43 ms</p></li>
<li><p>Write Feather:       3 581.44 ms</p></li>
<li><p>Write Parquet:       8 038.80 ms</p></li>
<li><p>Write CSV:         750 304.05 ms</p></li>
<li><p>Write PyStore:      24 074.08 ms</p></li>
<li><p>Write DuckDB:       13 147.43 ms</p></li>
</ul>
<p><strong>Read table benchmark (Table size: 10 000 000, 100):</strong></p>
<ul class="simple">
<li><p>Read FeatherStore:  2 007.28 ms</p></li>
<li><p>Read Feather:       6 516.06 ms</p></li>
<li><p>Read Parquet:       6 486.78 ms</p></li>
<li><p>Read CSV:         101 269.68 ms</p></li>
<li><p>Read PyStore:      13 514.46 ms</p></li>
<li><p>Read DuckDB:       18 228.74 ms</p></li>
</ul>
</section>
<section id="second-dataset">
<h2>Second Dataset<a class="headerlink" href="#second-dataset" title="Permalink to this heading">#</a></h2>
<p>The second dataset is made up of 94.6 million fields of random data in the
shape 15.8 million rows and 6 columns. (Approx. 2.0 gb of data when stored
as CSV). The data consists of one datetime column and 5 float columns.</p>
<p>The benchmark provides a rough estimate of the time it takes to save and load
intraday OHLCV asset data (15.8 million records is equal to 30 years of
1 minute data in a 24/7 market).</p>
<p><strong>Write table benchmark (Table size: 15 768 000, 6):</strong></p>
<ul class="simple">
<li><p>Write FeatherStore:  518.08 ms</p></li>
<li><p>Write Feather:       389.08 ms</p></li>
<li><p>Write Parquet:       827.67 ms</p></li>
<li><p>Write CSV:        78 259.50 ms</p></li>
<li><p>Write PyStore:     2 347.50 ms</p></li>
<li><p>Write DuckDB:      1 814.55 ms</p></li>
</ul>
<p><strong>Read table benchmark (Table size: 15 768 000, 6):</strong></p>
<ul class="simple">
<li><p>Read FeatherStore:  172.16 ms</p></li>
<li><p>Read Feather:       396.35 ms</p></li>
<li><p>Read Parquet:       697.16 ms</p></li>
<li><p>Read CSV:        12 389.58 ms</p></li>
<li><p>Read PyStore:       994.11 ms</p></li>
<li><p>Read DuckDB:      1 304.28 ms</p></li>
</ul>
</section>
<section id="internal-benchmarks">
<h2>Internal Benchmarks<a class="headerlink" href="#internal-benchmarks" title="Permalink to this heading">#</a></h2>
<p>In addition to supporting reading and writing Pandas DataFrames, FeatherStore
also supports reading and writing Polars DataFrames and PyArrow Tables.
These two data structures use the Apache Arrow Columnar Format as a memory
model, allowing reads and writes without serializing and deserializing to and
from Pandas.</p>
<p>We will benchmark using the first dataset again, comparing reading and writing
the dataset as Pandas DataFrame, Polars DataFrame, and PyArrow Table
using FeatherStore.</p>
<p><strong>Write table benchmark (Table size: 10 000 000, 100):</strong></p>
<ul class="simple">
<li><p>Write Pandas:  3 734.78 ms</p></li>
<li><p>Write Polars:  3 359.98 ms</p></li>
<li><p>Write Arrow:   3 374.49 ms</p></li>
</ul>
<p><strong>Read table benchmark (Table size: 10 000 000, 100):</strong></p>
<ul class="simple">
<li><p>Read Pandas:  1 377.60 ms</p></li>
<li><p>Read Polars:    241.79 ms</p></li>
<li><p>Read Arrow:      16.60 ms</p></li>
</ul>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="API/Snapshot.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Snapshot</p>
      </div>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2021, Håkon Magne Holmen.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.0.1.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>